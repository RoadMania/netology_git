<a name="virt05"></a> 05-virt-05-docker-swarm<br>
<b>Задание 1. </b><br>
1) Для реплицируемой службы указывается количество идентичных задач, которые необходимо запустить.
Глобальная служба запускает одну задачу на каждом узле. Заранее заданного количества заданий нет. Каждый раз, когда добавляется узел в swarm, оркестратор создает задачу, а планировщик назначает задачу новому узлу.
2) Для выбора лидера используется алгоритм поддержания распределённого консенсуса - Raft.
Если обычный узел долго не получает сообщений от лидера, то он переходит в состояние «кандидат» и посылает другим узлам запрос на голосование. Другие узлы голосуют за того кандидата, от которого они получили первый запрос. Если кандидат получает сообщение от лидера, то он снимает свою кандидатуру и возвращается в обычное состояние. Если кандидат получает большинство голосов, то он становится лидером. Если же он не получил большинства (это случай, когда на кластере возникли сразу несколько кандидатов и голоса разделились), то кандидат ждёт случайное время и инициирует новую процедуру голосования.
Процедура голосования повторяется, пока не будет выбран лидер.
3) Overlay Network в контексте docker является распределенной сетью между несколькими узлами docker. Эта сеть находится поверх сети, специфичные для хоста, позволяя контейнерам, подключенным к ней, безопасно обмениваться данными при включенном шифровании. <br>
<br><b>Задание 2. </b>
<div> <img src="https://github.com/RoadMania/netology_git/blob/main/screens/docker_swarm.JPG"> </div> 
<br><b>Задание 3. </b> <br>
<div> <img src="https://github.com/RoadMania/netology_git/blob/main/screens/docker_cluster.JPG"> </div>
